<ion-view class="patternBg">
      <ion-content>
            <div ng-if="IsList">
                  <div class="container">

                        <div class="row row-center">
                              <div class="col">
                                    <div class="searchBox">
                                          <input id="mytext" type="text" ng-model="Searchmodel.Search"
                                                class="formControl" ng-model-options="{ debounce: 1500 }"
                                                ng-change="FilterData()"
                                                placeholder="Filter by Code,Name, Description, Total or P/0 No">
                                          <button type="button" class="cBtn cBtn-blue" ng-click="FilterData()">
                                                <span>Search</span>
                                          </button>
                                          <a ng-click="EnableFilterOption()" class="cBtn cBtn-green cbtn-onlyicon"
                                                title="Advance Search">
                                                <i class="ion-ios-arrow-down" title="Advance Search"></i>
                                          </a>
                                          <a ng-click="Add()" class="cBtn cBtn-green cBtn-autoWidth d-flex items-center justify-center gap-2s"
                                                ng-hide="CurrentCustomerGroup=='Shop'">
                                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                                  </svg>
                                                   <span>Add
                                                      Purchase</span>
                                          </a>
                                    </div>
                                    <div class="row responsive-sm  cForm light px-0">
                                          <div class="col col-100 px-0">
                                                <div class="infoBox02">
                                                      <div class="container">
                                                            <div class="row responsive-sm">
                                                                  <div class="col">
                                                                        <label>Start Date</label>
                                                                        <input ng-model="modelSearch.StartDate"
                                                                              value="{{modelSearch.StartDate | date: 'dd-MM-yyyy' }}"
                                                                              ng-required="true" name="StartDate"
                                                                              class="formControl" date
                                                                              ion-datetime-picker>
                                                                  </div>
                                                                  <div class="col">
                                                                        <label>End Date</label>
                                                                        <input ng-model="modelSearch.EndDate"
                                                                              value="{{modelSearch.EndDate  | date: 'dd-MM-yyyy'}}"
                                                                              ng-required="true" name="EndDate"
                                                                              class="formControl" date
                                                                              ion-datetime-picker>
                                                                  </div>
                                                                  <div class="col">
                                                                        <label>Supplier</label>
                                                                        <select class="formControl" name="CustomerCode"
                                                                              ng-required="true"
                                                                              ng-model="modelSearch.CustomerCode"
                                                                              ng-change="FilterAdvanceData(modelSearch)">
                                                                              <option value="">Select Supplier</option>
                                                                              <option value="{{o.AccountNumbder}}"
                                                                                    ng-repeat="o in lstCustomer | orderBy:'Name'">
                                                                                    {{o.AccountNumbder}}-{{o.Name}}
                                                                              </option>
                                                                        </select>
                                                                  </div>
                                                                  <div class="col">
                                                                        <label>Location</label>
                                                                        <select class="formControl" name="idLocations"
                                                                              ng-required="true"
                                                                              ng-model="modelSearch.idLocations"
                                                                              ng-change="FilterAdvanceData(modelSearch)"
                                                                              ng-disabled="flgLocation">
                                                                              <option value="">Select Location</option>
                                                                              <option value="{{o.id}}"
                                                                                    ng-repeat="o in lstLocations">
                                                                                    {{o.Name}}</option>
                                                                        </select>
                                                                  </div>
                                                                  <div class="col">
                                                                        <div class="s20"></div>
                                                                        <a class="cBtn cBtn-blue"
                                                                              ng-click="FilterAdvanceData(modelSearch)">
                                                                              <i class="icon ion-search"
                                                                                    title="Search"></i>
                                                                        </a>
                                                                        <a class="cBtn cBtn-green"
                                                                              ng-click="FilterAdvanceData()">
                                                                              <i class="icon ion-refresh"
                                                                                    title="Search"></i>
                                                                        </a>
                                                                  </div>
                                                            </div>
                                                      </div>
                                                </div>
                                          </div>

                                    </div>
                              </div>
                        </div>
                        <div class="row">
                              <div class="col">
                                    <div class="cDataTable">
                                          <table id="PurchaseTable" class="cell-border" width="100%">
                                                <thead>
                                                      <tr>
                                                            <th class="all">No</th>
                                                            <th>P/O No </th>
                                                            <th>Purchase Date</th>
                                                            <th ng-show="GenmedFlag">Invoice No</th>
                                                            <th ng-show="!GenmedFlag">Customer Code</th>
                                                            <th>Customer Name</th>
                                                            <th ng-show="!GenmedFlag">Branch Code</th>
                                                            <th width="5%">Sub Total</th>
                                                            <th>Tax</th>
                                                            <th>Final Total</th>
                                                            <th class="all">Action</th>
                                                      </tr>
                                                </thead>
                                          </table>
                                    </div>
                              </div>
                        </div>
                        <div class="col col-33">
                              <div class="infoBox02">
                                    <div class="row responsive-sm">
                                          <div class="col col-60">
                                                <span>Total Purchase Amount </span>
                                          </div>
                                          <div class="col col-40">
                                                <span>{{TotalPurchaseAmount}}</span>
                                          </div>
                                    </div>
                              </div>
                        </div>
                  </div>
            </div>
            <div ng-if="!IsList">
                  <form name="FormPurchase" class="cForm light">
                        <div class="row responsive-sm">
                              <div class="col col-50">
                                    <div class="infoBox02">
                                          <div class="row responsive-sm">
                                                <div class="col col-20">
                                                      <label>Name* </label>
                                                </div>
                                                <div class="col col-50">
                                                      <input type="text" class="formControl ravi_sale"
                                                            name="CustomerName" ng-required="true"
                                                            ng-model="model.CustomerName"
                                                            ng-change="FilteredCustomerbyName()">
                                                      <span class="errorMsg text-center"
                                                            ng-show="formsubmit && (FormPurchase.CustomerName.$dirty || FormPurchase.CustomerName.$invalid)">
                                                            <span ng-show="FormPurchase.CustomerName.$error.required">
                                                                  Please Enter Name
                                                            </span>
                                                      </span>
                                                      <div class="list1">
                                                            <ul class="list-group mainfont ulclass" style="font-size: 10px;
                                                            overflow-y: auto;
                                                            z-index: 10;
                                                            width: auto;
                                                            position: fixed;">
                                                                  <li class="item" style="border: 1px solid #a2a2a2;"
                                                                        ng-click="SelectCustomer(customer,'name')"
                                                                        ng-repeat="customer in lstFilteredCustomerbyName"
                                                                        class="list-group-item mainfont">
                                                                        {{customer.Name}}</li>
                                                            </ul>
                                                      </div>
                                                </div>
                                                <div class="col col-10 text-center">
                                                      <label>Phone* </label>
                                                </div>
                                                <div class="col col-20">
                                                      <input type="tel" class="formControl ravi_sale"
                                                            name="PhoneNumber1" ng-required="true"
                                                            ng-model="model.PhoneNumber"
                                                            ng-change="FilteredCustomerbyMob()">
                                                      <span class="errorMsg text-center"
                                                            ng-show="formsubmit && (FormPurchase.PhoneNumber1.$dirty || FormPurchase.PhoneNumber1.$invalid)">
                                                            <span ng-show="FormPurchase.PhoneNumber1.$error.required">
                                                                  Please Enter Phone Number
                                                            </span>
                                                      </span>
                                                      <div class="list1">
                                                            <ul class="list-group mainfont ulclass" style="padding: 0px 5px;font-size: 10px;max-height: 20em;
                                            overflow-y: auto;">
                                                                  <li class="item" style="border: 1px solid #a2a2a2;"
                                                                        ng-click="SelectCustomer(customer,'phone')"
                                                                        ng-repeat="customer in lstFilteredCustomerbyMob"
                                                                        class="list-group-item mainfont">
                                                                        {{customer.PhoneNumber}}</li>
                                                            </ul>
                                                      </div>
                                                </div>

                                          </div>
                                          <div class="row responsive-sm">
                                                <div class="col col-20">
                                                      <label for="Address">Address </label>
                                                </div>
                                                <div class="col col-80">
                                                      <input type="text" class="formControl ravi_sale" name="Address1"
                                                            ng-model="model.Address1">
                                                </div>
                                          </div>
                                          <div class="row responsive-sm" ng-if="GenmedFlag">
                                                <div class="col col-20">
                                                      <label for="Branch">Branch </label>
                                                </div>
                                                <div class="col col-80">
                                                      <select class="formControl ravi_sale" name="BranchCode"
                                                            ng-model="model.BranchCode">
                                                            <option value="{{o.Name}}" ng-repeat="o in lstBranch">
                                                                  {{o.Name}}</option>
                                                      </select>
                                                      <span class="errorMsg text-center"
                                                            ng-show="formsubmit && (FormPurchase.BranchCode.$dirty || FormPurchase.BranchCode.$invalid)">
                                                            <span ng-show="FormPurchase.BranchCode.$error.required">
                                                                  Please Select Branch
                                                            </span>
                                                      </span>
                                                </div>
                                          </div>


                                    </div>
                              </div>

                              <div class="col col-50">
                                    <div class="infoBox02">
                                          <div class="row responsive-sm">
                                                <div class="col col-20">
                                                      <label for="P/ONo">P/O No </label>
                                                </div>
                                                <div class="col col-30">
                                                      <input ng-model="model.DocNo" class="formControl ravi_sale">
                                                </div>
                                                <div class="col col-20 text-center">
                                                      <label for="Date">Date* </label>
                                                </div>
                                                <div class="col col-30">
                                                      <input ng-model="model.PurchaseDate"
                                                            value=" {{model.PurchaseDate | date: 'dd-MM-yyyy'}}"
                                                            ng-required="true" class="formControl ravi_sale" date
                                                            ion-datetime-picker>
                                                      <span class="errorMsg text-center"
                                                            ng-show="formsubmit && (FormPurchase.PurchaseDate.$dirty || FormPurchase.PurchaseDate.$invalid)">
                                                            <span ng-show="FormPurchase.PurchaseDate.$error.required">
                                                                  Please Select Date
                                                            </span>
                                                      </span>
                                                </div>
                                          </div>

                                          <div class="row responsive-sm">
                                                <div class="col col-20">
                                                      <label for="PurchaseLocation">Purchase Location* </label>
                                                </div>
                                                <div class="col col-30">
                                                      <select class="formControl ravi_sale" name="idLocations"
                                                            ng-required="true" ng-model="model.idLocations"
                                                            ng-change="ChangeLocation()">
                                                            <option value="{{o.id}}" ng-repeat="o in lstLocations">
                                                                  {{o.Name}}</option>
                                                      </select>
                                                      <span class="errorMsg text-center"
                                                            ng-show="formsubmit && (FormPurchase.idLocations.$dirty || FormPurchase.idLocations.$invalid)">
                                                            <span ng-show="FormPurchase.idLocations.$error.required">
                                                                  Please Select Purchase Location
                                                            </span>
                                                      </span>
                                                </div>
                                                <div class="col col-20 text-center">
                                                      <label>Drug Lic No </label>
                                                </div>
                                                <div class="col col-30">
                                                      <input type="text" class="formControl ravi_sale" name="Address3"
                                                            maxlength="100" ng-maxlength="100"
                                                            ng-model="model.DrugLicNo">
                                                </div>


                                          </div>

                                          <div class="row responsive-sm">
                                                <div class="col col-20">
                                                      <label for="P/ONo">Invoice no </label>
                                                </div>
                                                <div class="col col-30">
                                                      <input ng-model="model.DeliverAddress2"
                                                            class="formControl ravi_sale">
                                                </div>
                                                <div class="col col-20 text-center">
                                                      <label for="Date">GST No</label>
                                                </div>
                                                <div class="col col-30">
                                                      <input ng-model="model.DeliverAddress3"
                                                            class="formControl ravi_sale">
                                                </div>
                                          </div>
                                    </div>
                              </div>
                        </div>
                        <hr size=2 style="margin:0px">
                        <span ng-show="SelectedTab==1">
                              <div class="row responsive-sm">
                                    <a ng-click="AddPurchaseMainItemInList()" class="custlablebtn">
                                          <span>Add New</span>
                                    </a>
                              </div>
                              <div class="row responsive-sm">
                                    <div class="infoBox02">
                                          <div class="row responsive-sm">
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <label>Sr No</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <label>Barcode</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 4%;">
                                                      <label>Item Code*</label>
                                                      <scanner-widget status="ItemCode" obj="WorkingPurchaseMain">
                                                      </scanner-widget>
                                                </div>
                                                <div class="col col-20" style="max-width: 15%;">
                                                      <label>Product Name</label>
                                                </div>
                                                <div class="col col-20" style="max-width: 8%;">
                                                      <label>Batch No.</label>
                                                      <scanner-widget status="Batch" obj="WorkingPurchaseMain">
                                                      </scanner-widget>
                                                </div>
                                                <div class="col col-7" style="max-width: 6%;">
                                                      <label>Company</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>HSN Code</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Expiry</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;" ng-hide="FlagLocation">
                                                      <label>Location</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Pack*</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <label>Qty*</label>
                                                </div>
                                                <div class="col col-5" style="max-width: 3%;">
                                                      <label>Free</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Rate</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>MRP</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Sale Rate</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;" ng-hide="FlagDisc">
                                                      <label>Disc</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <label>Disc%</label>
                                                </div>

                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Tax Code</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>GST</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;" ng-hide="FlagTax">
                                                      <label>Tax</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Net Rate</label>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <label>Amount</label>
                                                </div>
                                                <div class="col col-20" style="max-width: 2%;">
                                                </div>
                                          </div>
                                          <div class="row responsive-sm" ng-repeat="o in lstSelectedPurchaseMain">
                                                <div class="col col-7" style="max-width: 3%;color: black;">
                                                      <input ng-model="o.sequence"
                                                            class="formControl ravi_sale text-center">
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <input id="Barcode{{o.Barcode}}" ng-model="o.Barcode"
                                                            class="formControl ravi_sale" ng-enter="GetItem(o)">
                                                </div>
                                                <div class="col col-7" ng-click="OpenModelItemCode({{$index}})"
                                                      style="max-width: 4%;">
                                                      <input ng-model="o.ItemCode" class="formControl ravi_sale"
                                                            readonly>
                                                </div>
                                                <div style="max-width: 1%;padding-top: 6px;" ng-if="GenmedFlag">
                                                      <a ng-click="OpenEditItem(o.ItemCode)"
                                                            ng-hide="o.ItemCode=='' || o.ItemCode==null"
                                                            class="RelatedBtn">
                                                            <i class="ion-document-text" title="Edit Item"></i>
                                                      </a>
                                                </div>
                                                <div class="col col-20" style="max-width: 15%;">
                                                      <input ng-model="o.ItemName" id="ItemName{{o.ItemCode}}"
                                                            class="formControl ravi_sale"
                                                            ng-change="GetAllItemSearch(o)" autocomplete="off">

                                                      <div class="list12" ng-if="o.IsEdit">
                                                            <ul class="list-group mainfont ulclass productul"
                                                                  style="padding: 0px 5px;font-size: 10px;max-height: 20em; overflow-y: auto;">
                                                                  <li class="item autosearch" id="{{t1.id}}"
                                                                        style="border: 1px solid #a2a2a2;height: 0px;"
                                                                        ng-click="AddItemCode(o,t1)"
                                                                        ng-repeat="t1 in lstItemsSearch"
                                                                        class="list-group-item mainfont">
                                                                        {{t1.ItemName}}</li>
                                                            </ul>
                                                      </div>
                                                </div>
                                                <div class="col col-20" style="max-width: 8%;">
                                                      <select class="formControl ravi_sale" ng-model="o.BatchNo"
                                                            ng-change="MangeMargin(o);CursorPass(o)"
                                                            id="Batch{{o.ItemCode}}">
                                                            <option value="{{p.BatchNumber}}"
                                                                  ng-repeat="p in o.BatchList">{{p.BatchNumber}}
                                                                  | {{p.ExpiryDate | date:'MMM-yyyy'}} | {{p.Stock}} |
                                                                  {{p.PurchaseRate}} |
                                                                  {{p.MRP}}
                                                            </option>
                                                      </select>
                                                </div>
                                                <div class="col col-7" style="max-width: 6%;">
                                                      <input ng-model="o.Descriptions2" class="formControl ravi_sale"
                                                            readonly>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input ng-model="o.HSNCode" class="formControl ravi_sale"
                                                            readonly>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input ng-model="o.ExpiryDate" class="formControl ravi_sale"
                                                            readonly>
                                                </div>
                                                <div class=" col col-7" style="max-width: 5%;" ng-hide="FlagLocation">
                                                      <select class="formControl ravi_sale" ng-model="o.idLocations"
                                                            ng-change="AddLocation(o)">
                                                            <option value="{{p.id}}" ng-selected="o.idLocations == p.id"
                                                                  ng-repeat="p in lstLocations">{{p.Name}}</option>
                                                      </select>
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <select class="formControl ravi_sale" ng-model="o.UOM"
                                                            ng-change="FillItemUnitPrice(o)">
                                                            <option value="{{item.UOM}}"
                                                                  ng-repeat="item in o.listUOM | orderBy : 'UOM'">
                                                                  {{item.UOM}}</option>
                                                      </select>
                                                </div>
                                                <div class="col col-5" style="max-width: 5%;">
                                                      <input id="Qty{{o.ItemCode}}" ng-model="o.Qty"
                                                            class="formControl ravi_sale"
                                                            ng-enter="AddPurchaseMainItemInList();"
                                                            ng-change="AddTaxCode(o)">
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <input ng-model="o.FreeQty" class="formControl ravi_sale">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input id="Price" ng-model="o.Price" class="formControl ravi_sale"
                                                            ng-change="AddTaxCode(o,2)"
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input id="MRP" ng-model="o.MRP" class="formControl ravi_sale"
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input id="SaleRate" ng-model="o.SaleRate"
                                                            class="formControl ravi_sale" readonly
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;" ng-hide="FlagDisc">
                                                      <input id="DiscountAmount" ng-model="o.DiscountAmount"
                                                            class="formControl ravi_sale"
                                                            ng-change="AddDiscountAmount(o,'Amount')"
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 3%;">
                                                      <input id="DiscountPercentage" ng-model="o.DiscountPercentage"
                                                            class="formControl ravi_sale"
                                                            ng-change="AddDiscountAmount(o,'Percentage')"
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>

                                                <div class="col col-7" style="max-width: 5%;">
                                                      <select class="formControl ravi_sale" ng-model="o.TaxCode"
                                                            ng-change="AddTaxCode(o)">
                                                            <option value="{{p.TaxType}}" ng-repeat="p in lstTaxCode">
                                                                  {{p.TaxType}}</option>
                                                      </select>
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input ng-model="o.TaxRate" class="formControl ravi_sale" readonly
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;" ng-hide="FlagTax">
                                                      <input ng-model="o.Tax" class="formControl ravi_sale" readonly
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input ng-model="o.Total" class="formControl ravi_sale" readonly
                                                            manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-7" style="max-width: 5%;">
                                                      <input ng-model="o.FinalTotal" class="formControl ravi_sale"
                                                            readonly manage-Dynamicfraction="{{Dynamicfraction}}">
                                                </div>
                                                <div class="col col-20" style="max-width: 2%;">
                                                      <a ng-click="RemovePurchaseMainItemInList($index)"
                                                            class="RemoveBtn">
                                                            <i class="ion-trash-a" title="Remove Item"></i>
                                                      </a>
                                                </div>

                                          </div>
                                    </div>
                              </div>

                              <div class="s10"></div>
                              <div class="row responsive-sm">
                                    <div class="col col-50">
                                          <div class="infoBox02">
                                                <div class="row responsive-sm">
                                                      <div class="col col-25">
                                                            <label for="LocalTotal">Local Total </label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="text" id="LocalNetTotal"
                                                                  class="formControl ravi_sale" readonly
                                                                  name="LocalNetTotal" placeholder="Total"
                                                                  ng-model="model.LocalNetTotal"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}">
                                                      </div>
                                                      <div class="col col-25 text-center">
                                                            <label for="Discount">Discount(per) </label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="number" id="Discount"
                                                                  class="formControl ravi_sale"
                                                                  ng-enter="ManageDiscount()" name="Discount"
                                                                  placeholder="Discount" ng-model="model.DiscountRate"
                                                                  min="0" max="100" limit-to-max>
                                                      </div>
                                                </div>

                                                <div class="row responsive-sm">
                                                      <div class="col col-25">
                                                            <label for="TaxableAmount">Taxable Amount </label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="text" id="Total" class="formControl ravi_sale"
                                                                  readonly name="Total" placeholder="Total"
                                                                  ng-model="model.Total"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}">
                                                      </div>
                                                      <div class="col col-25">
                                                            <label for="TaxableAmount">Discount Amount</label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="text" id="Total" class="formControl ravi_sale"
                                                                  name="Total" placeholder="Discount Amount"
                                                                  ng-model="model.RoundAdj"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}"
                                                                  ng-enter="ManageDiscount()">
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                                    <div class="col col-50">
                                          <div class="infoBox02">
                                                <div class="row responsive-sm">
                                                      <div class="col col-25">
                                                            <label for="SubTotal">Sub Total </label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="text" id="Total1" class="formControl ravi_sale"
                                                                  name="Total" readonly placeholder="Sub Total"
                                                                  ng-model="model.Total"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}">
                                                      </div>
                                                      <div class="col col-25 text-center">
                                                            <label for="Tax">Tax </label>
                                                      </div>
                                                      <div class="col col-25">
                                                            <input type="text" id="Tax" class="formControl ravi_sale"
                                                                  name="Tax" readonly placeholder="Tax"
                                                                  ng-model="model.Tax"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}">
                                                      </div>
                                                </div>
                                                <div class="row responsive-sm">
                                                      <div class="col col-25">
                                                            <label for="Total">Total </label>
                                                      </div>
                                                      <div class="col col-75">
                                                            <input type="text" id="NetTotal"
                                                                  class="formControl ravi_sale" readonly name="NetTotal"
                                                                  placeholder="Total" ng-model="model.NetTotal"
                                                                  manage-Dynamicfraction="{{Dynamicfraction}}">
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                        </span>

                        <span ng-show="SelectedTab==2">
                              <div class="row responsive-sm">
                                    <div class="col col-50">
                                          <h4><b>Document Information</b></h4>
                                          <div class="infoBox02">
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Description">Description </label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <textarea type="text" id="Description"
                                                                  class="formControl md-textarea" rows="1"
                                                                  name="Description" ng-model="model.Description"
                                                                  maxlength="500" ng-maxlength="500"></textarea>
                                                      </div>
                                                </div>
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Ref">Ref </label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="text" id="Ref" class="formControl" name="Ref"
                                                                  maxlength="50" ng-maxlength="50" ng-model="model.Ref">
                                                      </div>
                                                </div>
                                          </div>
                                          <h4><b>Supplier Information</b></h4>
                                          <div class="infoBox02">
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Attention">Attention</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="text" id="Attentions" class="formControl"
                                                                  name="Attentions" maxlength="50" ng-maxlength="50"
                                                                  ng-model="model.Attentions">
                                                      </div>
                                                </div>
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Phone">Phone</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="tel" id="PhoneNumber" class="formControl"
                                                                  name="PhoneNumber" ng-model="model.PhoneNumber"
                                                                  placeholder="+11234567890">
                                                      </div>
                                                </div>
                                                <div class="
                                            row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Fax">Fax</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="text" id="Fax" class="formControl" name="Fax"
                                                                  ng-model="model.Fax" maxlength="50" ng-maxlength="50">
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                                    <div class="col col-50">
                                          <h4><b>Delivery Information</b></h4>
                                          <div class="infoBox02">
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="DeliveryAddress">Delivery Address</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="text" id="DeliverAddress1" class="formControl"
                                                                  maxlength="100" ng-maxlength="100"
                                                                  name="DeliverAddress1"
                                                                  ng-model="model.DeliverAddress1">
                                                            <input type="text" id="DeliverAddress2" class="formControl"
                                                                  maxlength="100" ng-maxlength="100"
                                                                  name="DeliverAddress2"
                                                                  ng-model="model.DeliverAddress2">
                                                            <input type="text" id="DeliverAddress3" class="formControl"
                                                                  maxlength="100" ng-maxlength="100"
                                                                  name="DeliverAddress3"
                                                                  ng-model="model.DeliverAddress3">
                                                      </div>
                                                </div>
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Phone">Phone</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="tel" id="DeliverPhoneNumber"
                                                                  class="formControl" name="DeliverPhoneNumber"
                                                                  ng-model="model.DeliverPhoneNumber"
                                                                  placeholder="+11234567890">
                                                            <br />
                                                      </div>
                                                </div>
                                                <div class="row responsive-sm">
                                                      <div class="col col-20">
                                                            <label for="Fax">Fax</label>
                                                      </div>
                                                      <div class="col col-80">
                                                            <input type="text" id="DeliverFax" maxlength="100"
                                                                  ng-maxlength="100" class="formControl"
                                                                  name="DeliverFax" ng-model="model.DeliverFax">
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                              </div>
                        </span>

                        <div class="row">
                              <div class="col">
                                    <button class="cBtn cBtn-green cBtn-block cBtn-shadow"
                                          ng-click="SavePurchase(FormPurchase)" type="button"
                                          ng-hide="CurrentCustomerGroup=='Shop'">
                                          <i class="ion-document-text" title="Save"></i>
                                          Save
                                    </button>
                              </div>
                        </div>
                  </form>
            </div>
      </ion-content>
      <script id="ItemCode.html" type="text/ng-template">
            <ion-modal-view class="patternBg">
            <ion-header-bar class="customPgHeader">
                <div class="col01">
                    <span class="pgTitle">Item Code</span>
                </div>
                <div class="col02">
                    <button class="cBtn cBtn-skyblue cBtn-block cBtn-shadow" ng-click="closeModal()" type="button"><i class="ion-close-circled"></i>
                                  Cancel</button>
                </div>
            </ion-header-bar>
            <ion-content padding="true">
                <div class="container">
                        <div class="searchBox" style="margin-bottom: 20px;">
                                <input type="text" ng-model="Searchmodel1.Search" class="formControl" ng-enter="FilterData1()"
                                    placeholder="Filter by Code, Description, UOM or Type">
                                <button type="button" class="cBtn cBtn-blue" ng-click="FilterData1()">
                                    <span>Search</span>
                                </button>
                            </div>
                        <div class="cDataTable">
                                <table id="ItemTable" class="cell-border" width="100%">
                                    <thead>
                                        <tr>
                                            <th class="all">No</th>
                                            <th>Product Name </th>
                                            <th>Item Code </th>
                                            <th>Description</th>
                                            <th>Sub Brand</th>
                                            <th class="all">Action</th>
            
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
      <style>
            .list12 {
                  position: fixed;
                  z-index: 1;
            }

            .list12:hover {
                  display: block;
            }

            .autosearch.selected {
                  background: #989898;
            }
      </style>
</ion-view>