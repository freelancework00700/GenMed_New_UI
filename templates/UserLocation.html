<ion-view class="patternBg">
    <ion-content>

        <!-- <div class="container" ng-if="IsList">
      <div class="row row-center">
        <div class="col col-90">
        </div>
        <div class="col col-10 text-right">
          <a ng-click="Add()" class="cBtn cBtn-blue">
            <i class="ion-plus" title="Add UserLocation"></i>
          </a>
        </div>

      </div> -->

        <div ng-if="IsList">
            <div class="container">
                <div class="s10"></div>
                <div class="row row-center">
                    <div class="col">
                        <div class="searchBox">
                            <input type="text" ng-model="Searchmodel.Search" ng-model-options="{ debounce: 1500 }"
                                class="formControl" placeholder="Filter by User Name or Location" ng-enter="FilterData()">
                            <button type="button" class="cBtn cBtn-blue" ng-click="FilterData()">
                                <span>Search</span>
                            </button>
                            <a ng-click="Add()" class="cBtn cBtn-green cBtn-autoWidth d-flex items-center justify-center gap-2">
                                <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/>
                                </svg>
                                 <span>Add User Location</span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="s20"></div>

                <div class="cDataTable">
                    <table id="UserLocationTable" class="cell-border" width="100%">
                        <thead>
                            <tr>
                                <th class="all">No</th>
                                <th>User Name </th>
                                <th>Location</th>
                                <th class="all">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="o in lstUserLocation">
                                <td>{{$index + 1}}</td>
                                <td>{{o.tbluserinformation.username || "N/A"}}</td>
                                <td>{{o.location.Name || "N/A"}}</td>
                                <td>
                                    <a ng-click="CopyToModel(o)" class="btnAction btnAction-edit">
                                        <i class="ion-edit" title="Edit">
                                        </i>
                                    </a>
                                    <a ng-click="DeleteUserLocation(o.id)" class="btnAction btnAction-error">
                                        <i class="ion-trash-a" title="Delete">
                                        </i>
                                    </a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="container" ng-if="!IsList">
            <div class="s20"></div>
            <!-- <a ng-click="ResetAll()" class="cBtn cBtn-blue">
        <i class="ion-arrow-left-c" title="Back">
          Return To List
        </i>
      </a> -->
            <div class="row">
                <div class="col col-50">
                    <form name="FormUserLocation" class="cForm light">
                        <div>
                            <label>Username</label>
                            <div>
                                <select ng-model="model.idUser" class="formControl" ng-required="true" name="idUser">
                                    <option value="">Select User</option>
                                    <option ng-repeat="o in lstUser" value="{{o.id}}" ng-selected="model.idUser==o.id">
                                        {{o.username}}
                                    </option>
                                </select>
                                <span class="errorMsg text-center" ng-show="formsubmit && (FormUserLocation.idUser.$dirty || FormUserLocation.idUser.$invalid)">
                                    <span ng-show="FormUserLocation.idUser.$error.required">
                                        Please Select Username
                                    </span>
                                </span>
                                <div class="s10"></div>
                                <select ng-model="model.idLocations" class="formControl" ng-required="true" name="idLocations">
                                    <option value="">Select Location</option>
                                    <option ng-repeat="o in lstLocation" value="{{o.id}}" ng-selected="model.idLocations==o.id">
                                        {{o.Name}}
                                    </option>
                                </select>
                                <span class="errorMsg text-center" ng-show="formsubmit && (FormUserLocation.idLocations.$dirty || FormUserLocation.idLocations.$invalid)">
                                    <span ng-show="FormUserLocation.idLocations.$error.required">
                                        Please Select Location
                                    </span>
                                </span>
                                <div class="s20"></div>
                                <a title="Save" class="cBtn cBtn-blue" ng-disabled="!FormUserLocation.$valid" ng-click="SaveUserLocation(FormUserLocation)">Save</a>
                                <!-- <a title="Cancel" class="cBtn cBtn-skyblue" ng-click="init()">Cancel</a> -->
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>